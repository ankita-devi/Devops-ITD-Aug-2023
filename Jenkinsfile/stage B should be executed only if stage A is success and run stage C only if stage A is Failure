pipeline{
    agent any
    stages{
        stage('A'){
           steps{
              script{
                try{
                    echo "we are in satge A"
                    
                }catch (Exception e){
                    echo 'stage A failed'
                    stageresult= "false"
                }
              }

            }
        } 
        stage('B'){
               when{
                expression{
                   stageresult== 'false'
                }
               }
            steps{
                echo "running stage B as stage A failed"
            }
        }  
        stage('C'){
            steps{
                script{
                    if(stageresult== 'true'){
                        echo 'running stage C as stage A succesed'
                    }

                }
            }
        }   
    }
}
